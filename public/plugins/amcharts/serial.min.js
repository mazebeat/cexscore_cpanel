(function(){var a=window.AmCharts;a.AmRectangularChart=a.Class({inherits:a.AmCoordinateChart,construct:function(b){a.AmRectangularChart.base.construct.call(this,b);this.theme=b;this.createEvents("zoomed");this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20;this.depth3D=this.angle=0;this.plotAreaFillColors="#FFFFFF";this.plotAreaFillAlphas=0;this.plotAreaBorderColor="#000000";this.plotAreaBorderAlpha=0;this.maxZoomFactor=20;this.zoomOutButtonImageSize=19;this.zoomOutButtonImage="lens";this.zoomOutText="Show all";this.zoomOutButtonColor="#e5e5e5";this.zoomOutButtonAlpha=0;this.zoomOutButtonRollOverAlpha=1;this.zoomOutButtonPadding=8;this.trendLines=[];this.autoMargins=!0;this.marginsUpdated=!1;this.autoMarginOffset=10;a.applyTheme(this,b,"AmRectangularChart")},initChart:function(){a.AmRectangularChart.base.initChart.call(this);this.updateDxy();!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1);this.processScrollbars();this.updateMargins();this.updatePlotArea();this.updateScrollbars();this.updateTrendLines();this.updateChartCursor();this.updateValueAxes();this.scrollbarOnly||this.updateGraphs()},drawChart:function(){a.AmRectangularChart.base.drawChart.call(this);this.drawPlotArea();if(a.ifArray(this.chartData)){var b=this.chartCursor;b&&b.draw()}},resetMargins:function(){var g={},e;if("xy"==this.type){var j=this.xAxes,i=this.yAxes;for(e=0;e<j.length;e++){var h=j[e];h.ignoreAxisWidth||(h.setOrientation(!0),h.fixAxisPosition(),g[h.position]=!0)}for(e=0;e<i.length;e++){j=i[e],j.ignoreAxisWidth||(j.setOrientation(!1),j.fixAxisPosition(),g[j.position]=!0)}}else{i=this.valueAxes;for(e=0;e<i.length;e++){j=i[e],j.ignoreAxisWidth||(j.setOrientation(this.rotate),j.fixAxisPosition(),g[j.position]=!0)}(e=this.categoryAxis)&&!e.ignoreAxisWidth&&(e.setOrientation(!this.rotate),e.fixAxisPosition(),e.fixAxisPosition(),g[e.position]=!0)}g.left&&(this.marginLeft=0);g.right&&(this.marginRight=0);g.top&&(this.marginTop=0);g.bottom&&(this.marginBottom=0);this.fixMargins=g},measureMargins:function(){var t=this.valueAxes,s,r=this.autoMarginOffset,q=this.fixMargins,o=this.realWidth,n=this.realHeight,p=r,j=r,i=o;s=n;var h;for(h=0;h<t.length;h++){t[h].handleSynchronization(),s=this.getAxisBounds(t[h],p,i,j,s),p=Math.round(s.l),i=Math.round(s.r),j=Math.round(s.t),s=Math.round(s.b)}if(t=this.categoryAxis){s=this.getAxisBounds(t,p,i,j,s),p=Math.round(s.l),i=Math.round(s.r),j=Math.round(s.t),s=Math.round(s.b)}q.left&&p<r&&(this.marginLeft=Math.round(-p+r));q.right&&i>=o-r&&(this.marginRight=Math.round(i-o+r));q.top&&j<r+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-j+r+this.titleHeight));q.bottom&&s>n-r&&(this.marginBottom=Math.round(this.marginBottom+s-n+r));this.initChart()},getAxisBounds:function(i,h,n,m,k){if(!i.ignoreAxisWidth){var j=i.labelsSet,l=i.tickLength;i.inside&&(l=0);if(j){switch(j=i.getBBox(),i.position){case"top":i=j.y;m>i&&(m=i);break;case"bottom":i=j.y+j.height;k<i&&(k=i);break;case"right":i=j.x+j.width+l+3;n<i&&(n=i);break;case"left":i=j.x-l,h>i&&(h=i)}}}return{l:h,t:m,r:n,b:k}},drawZoomOutButton:function(){var z=this;if(!z.zbSet){var y=z.container.set();z.zoomButtonSet.push(y);var x=z.color,w=z.fontSize,v=z.zoomOutButtonImageSize,u=z.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),t=a.lang.zoomOutText||z.zoomOutText,s=z.zoomOutButtonColor,r=z.zoomOutButtonAlpha,o=z.zoomOutButtonFontSize,e=z.zoomOutButtonPadding;isNaN(o)||(w=o);(o=z.zoomOutButtonFontColor)&&(x=o);var o=z.zoomOutButton,j;o&&(o.fontSize&&(w=o.fontSize),o.color&&(x=o.color),o.backgroundColor&&(s=o.backgroundColor),isNaN(o.backgroundAlpha)||(z.zoomOutButtonRollOverAlpha=o.backgroundAlpha));var i=o=0;void 0!==z.pathToImages&&u&&(j=z.container.image(z.pathToImages+u+z.extension,0,0,v,v),a.setCN(z,j,"zoom-out-image"),y.push(j),j=j.getBBox(),o=j.width+5);void 0!==t&&(x=a.text(z.container,t,x,z.fontFamily,w,"start"),a.setCN(z,x,"zoom-out-label"),w=x.getBBox(),i=j?j.height/2-3:w.height/2,x.translate(o,i),y.push(x));j=y.getBBox();x=1;a.isModern||(x=0);s=a.rect(z.container,j.width+2*e+5,j.height+2*e-2,s,1,1,s,x);s.setAttr("opacity",r);s.translate(-e,-e);a.setCN(z,s,"zoom-out-bg");y.push(s);s.toBack();z.zbBG=s;j=s.getBBox();y.translate(z.marginLeftReal+z.plotAreaWidth-j.width+e,z.marginTopReal+e);y.hide();y.mouseover(function(){z.rollOverZB()}).mouseout(function(){z.rollOutZB()}).click(function(){z.clickZB()}).touchstart(function(){z.rollOverZB()}).touchend(function(){z.rollOutZB();z.clickZB()});for(r=0;r<y.length;r++){y[r].attr({cursor:"pointer"})}z.zbSet=y}},rollOverZB:function(){this.rolledOverZB=!0;this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1;this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1;this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var t=this.dx,s=this.dy,r=this.marginLeftReal,q=this.marginTopReal,p=this.plotAreaWidth-1,o=this.plotAreaHeight-1,n=this.plotAreaFillColors,j=this.plotAreaFillAlphas,i=this.plotAreaBorderColor,e=this.plotAreaBorderAlpha;"object"==typeof j&&(j=j[0]);n=a.polygon(this.container,[0,p,p,0,0],[0,0,o,o,0],n,j,1,i,e,this.plotAreaGradientAngle);a.setCN(this,n,"plot-area");n.translate(r+t,q+s);this.set.push(n);0!==t&&0!==s&&(n=this.plotAreaFillColors,"object"==typeof n&&(n=n[0]),n=a.adjustLuminosity(n,-0.15),p=a.polygon(this.container,[0,t,p+t,p,0],[0,s,s,0,0],n,j,1,i,e),a.setCN(this,p,"plot-area-bottom"),p.translate(r,q+o),this.set.push(p),t=a.polygon(this.container,[0,0,t,t,0],[0,o,o+s,s,0],n,j,1,i,e),a.setCN(this,t,"plot-area-left"),t.translate(r,q),this.set.push(t));(r=this.bbset)&&this.scrollbarOnly&&r.remove()},updatePlotArea:function(){var f=this.updateWidth(),e=this.updateHeight(),h=this.container;this.realWidth=f;this.realWidth=e;h&&this.container.setSize(f,e);var h=this.marginLeftReal,g=this.marginTopReal,f=f-h-this.marginRightReal-this.dx,e=e-g-this.marginBottomReal;1>f&&(f=1);1>e&&(e=1);this.plotAreaWidth=Math.round(f);this.plotAreaHeight=Math.round(e);this.plotBalloonsSet.translate(h,g)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180));this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180));this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180));this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var b=this.getTitleHeight();this.titleHeight=b;this.marginTopReal=this.marginTop-this.dy;this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=b);this.marginBottomReal=this.marginBottom;this.marginLeftReal=this.marginLeft;this.marginRightReal=this.marginRight},updateValueAxes:function(){var e=this.valueAxes,d;for(d=0;d<e.length;d++){var f=e[d];this.setAxisRenderers(f);this.updateObjectSize(f)}},setAxisRenderers:function(b){b.axisRenderer=a.RecAxis;b.guideFillRenderer=a.RecFill;b.axisItemRenderer=a.RecItem;b.marginsChanged=!0},updateGraphs:function(){var e=this.graphs,d;for(d=0;d<e.length;d++){var f=e[d];f.index=d;f.rotate=this.rotate;this.updateObjectSize(f)}},updateObjectSize:function(b){b.width=this.plotAreaWidth-1;b.height=this.plotAreaHeight-1;b.x=this.marginLeftReal;b.y=this.marginTopReal;b.dx=this.dx;b.dy=this.dy},updateChartCursor:function(){var b=this.chartCursor;b&&(b=a.processObject(b,a.ChartCursor,this.theme),this.updateObjectSize(b),this.addChartCursor(b),b.chart=this)},processScrollbars:function(){var b=this.chartScrollbar;b&&(b=a.processObject(b,a.ChartScrollbar,this.theme),this.addChartScrollbar(b))},updateScrollbars:function(){},removeChartCursor:function(){a.callMethod("destroy",[this.chartCursor]);this.chartCursor=null},zoomTrendLines:function(){var e=this.trendLines,d;for(d=0;d<e.length;d++){var f=e[d];f.valueAxis.recalculateToPercents?f.set&&f.set.hide():(f.x=this.marginLeftReal,f.y=this.marginTopReal,f.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(b){this.trendLines.push(b)},zoomOutValueAxes:function(){for(var d=this.valueAxes,c=0;c<d.length;c++){d[c].zoomOut()}},removeTrendLine:function(e){var d=this.trendLines,f;for(f=d.length-1;0<=f;f--){d[f]==e&&d.splice(f,1)}},adjustMargins:function(f,e){var h=f.position,g=f.scrollbarHeight+f.offset;f.enabled&&("top"==h?e?this.marginLeftReal+=g:this.marginTopReal+=g:e?this.marginRightReal+=g:this.marginBottomReal+=g)},getScrollbarPosition:function(g,e,j){var i="bottom",h="top";g.oppositeAxis||(h=i,i="top");g.position=e?"bottom"==j||"left"==j?i:h:"top"==j||"right"==j?i:h},updateChartScrollbar:function(i,h){if(i){i.rotate=h;var p=this.marginTopReal,o=this.marginLeftReal,m=i.scrollbarHeight,l=this.dx,n=this.dy,j=i.offset;"top"==i.position?h?(i.y=p,i.x=o-m-j):(i.y=p-m+n-j,i.x=o+l):h?(i.y=p+n,i.x=o+this.plotAreaWidth+l+j):(i.y=p+this.plotAreaHeight+j,i.x=this.marginLeftReal)}},showZB:function(d){var c=this.zbSet;d&&(c=this.zoomOutText,""!==c&&c&&this.drawZoomOutButton());if(c=this.zbSet){this.zoomButtonSet.push(c),d?c.show():c.hide(),this.rollOutZB()}},handleReleaseOutside:function(b){a.AmRectangularChart.base.handleReleaseOutside.call(this,b);(b=this.chartCursor)&&b.handleReleaseOutside&&b.handleReleaseOutside()},handleMouseDown:function(d){a.AmRectangularChart.base.handleMouseDown.call(this,d);var c=this.chartCursor;c&&c.handleMouseDown&&!this.rolledOverZB&&c.handleMouseDown(d)},update:function(){a.AmRectangularChart.base.update.call(this);this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(b){this.relativeZoomValueAxes(b.target.valueAxes,b.relativeStart,b.relativeEnd);this.zoomAxesAndGraphs()},zoomValueScrollbar:function(f){if(f&&f.enabled){var e=f.valueAxes[0],h=e.relativeStart,g=e.relativeEnd;e.reversed&&(g=1-h,h=1-e.relativeEnd);f.percentZoom(h,g)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var d=this.valueAxes,c;for(c=0;c<d.length;c++){d[c].zoom(this.start,this.end)}d=this.graphs;for(c=0;c<d.length;c++){d[c].zoom(this.start,this.end)}(c=this.chartCursor)&&c.clearSelection();this.zoomTrendLines()}},handleValueAxisZoomReal:function(g,e){var j=g.relativeStart,i=g.relativeEnd;if(j>i){var h=j,j=i,i=h}this.relativeZoomValueAxes(e,j,i);this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs();this.zoomScrollbar()},relativeZoomValueAxes:function(h,e,l){e=a.fitToBounds(e,0,1);l=a.fitToBounds(l,0,1);if(e>l){var k=e;e=l;l=k}var k=1/this.maxZoomFactor,j=a.getDecimals(k)+4;l-e<k&&(l=e+(l-e)/2,e=l-k/2,l+=k/2);e=a.roundTo(e,j);l=a.roundTo(l,j);k=!1;if(h){for(j=0;j<h.length;j++){var i=h[j].zoomToRelativeValues(e,l,!0);i&&(k=i)}this.showZB()}return k},addChartCursor:function(b){a.callMethod("destroy",[this.chartCursor]);b&&(this.listenTo(b,"moved",this.handleCursorMove),this.listenTo(b,"zoomed",this.handleCursorZoom),this.listenTo(b,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(b,"panning",this.handleCursorPanning),this.listenTo(b,"onHideCursor",this.handleCursorHide));this.chartCursor=b},handleCursorChange:function(){},handleCursorMove:function(e){var d,f=this.valueAxes;for(d=0;d<f.length;d++){e.panning||f[d].showBalloon(e.x,e.y)}},handleCursorZoom:function(r){if(this.skipZoomed){this.skipZoomed=!1}else{var q=this.startX0,p=this.endX0,o=this.endY0,m=this.startY0,j=r.startX,n=r.endX,i=r.startY,h=r.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN;this.handleCursorZoomReal(q+j*(p-q),q+n*(p-q),m+i*(o-m),m+h*(o-m),r)}},handleCursorHide:function(){var d,c=this.valueAxes;for(d=0;d<c.length;d++){c[d].hideBalloon()}c=this.graphs;for(d=0;d<c.length;d++){c[d].hideBalloonReal()}}})})();(function(){var a=window.AmCharts;a.AmSerialChart=a.Class({inherits:a.AmRectangularChart,construct:function(d){this.type="serial";a.AmSerialChart.base.construct.call(this,d);this.cname="AmSerialChart";this.theme=d;this.createEvents("changed");this.columnSpacing=5;this.columnSpacing3D=0;this.columnWidth=0.8;var c=new a.CategoryAxis(d);c.chart=this;this.categoryAxis=c;this.zoomOutOnDataUpdate=!0;this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1;this.minSelectedTime=0;a.applyTheme(this,d,this.cname)},initChart:function(){a.AmSerialChart.base.initChart.call(this);this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis");if(this.dataChanged){this.parseData()}else{this.onDataUpdated()}this.drawGraphs=!0},onDataUpdated:function(){var g=this.countColumns(),e=this.chartData,j=this.graphs,i;for(i=0;i<j.length;i++){var h=j[i];h.data=e;h.columnCount=g}0<e.length&&(this.firstTime=this.getStartTime(e[0].time),this.lastTime=this.getEndTime(e[e.length-1].time));this.drawChart();this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},handleWheelReal:function(r,q){if(!this.wheelBusy){var p=this.categoryAxis,o=p.parseDates,m=p.minDuration(),j=p=1;this.mouseWheelZoomEnabled?q||(p=-1):q&&(p=-1);var n=this.chartData.length,i=this.lastTime,h=this.firstTime;0>r?o?(n=this.endTime-this.startTime,o=this.startTime+p*m,m=this.endTime+j*m,0<j&&0<p&&m>=i&&(m=i,o=i-n),this.zoomToDates(new Date(o),new Date(m))):(0<j&&0<p&&this.end>=n-1&&(p=j=0),o=this.start+p,m=this.end+j,this.zoomToIndexes(o,m)):o?(n=this.endTime-this.startTime,o=this.startTime-p*m,m=this.endTime-j*m,0<j&&0<p&&o<=h&&(o=h,m=h+n),this.zoomToDates(new Date(o),new Date(m))):(0<j&&0<p&&1>this.start&&(p=j=0),o=this.start-p,m=this.end-j,this.zoomToIndexes(o,m))}},validateData:function(b){this.marginsUpdated=!1;this.zoomOutOnDataUpdate&&!b&&(this.endTime=this.end=this.startTime=this.start=NaN);a.AmSerialChart.base.validateData.call(this)},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){a.AmSerialChart.base.drawChart.call(this);var e=this.chartData;if(a.ifArray(e)){var d=this.chartScrollbar;!d||!this.marginsUpdated&&this.autoMargins||d.draw();(d=this.valueScrollbar)&&d.draw();var e=e.length-1,f,d=this.categoryAxis;if(d.parseDates&&!d.equalSpacing){if(d=this.startTime,f=this.endTime,isNaN(d)||isNaN(f)){d=this.firstTime,f=this.lastTime}}else{if(d=this.start,f=this.end,isNaN(d)||isNaN(f)){d=0,f=e}}this.endTime=this.startTime=this.end=this.start=void 0;this.zoom(d,f)}}else{this.cleanChart()}},cleanChart:function(){a.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(e,d,f){e.chart=this;e.id=f;e.rotate=d;e.setOrientation(!this.rotate);e.init();this.setAxisRenderers(e);this.updateObjectSize(e)},updateValueAxes:function(){a.AmSerialChart.base.updateValueAxes.call(this);var f=this.valueAxes,e;for(e=0;e<f.length;e++){var h=f[e],g=this.rotate;h.rotate=g;h.setOrientation(g);g=this.categoryAxis;if(!g.startOnAxis||g.parseDates){h.expandMinMax=!0}}},getStartTime:function(d){var c=this.categoryAxis;return a.resetDateToMin(new Date(d),c.minPeriod,1,c.firstDayOfWeek).getTime()},getEndTime:function(d){var c=a.extractPeriod(this.categoryAxis.minPeriod);return a.changeDate(new Date(d),c.period,c.count,!0).getTime()-1},updateMargins:function(){a.AmSerialChart.base.updateMargins.call(this);var b=this.chartScrollbar;b&&(this.getScrollbarPosition(b,this.rotate,this.categoryAxis.position),this.adjustMargins(b,this.rotate));if(b=this.valueScrollbar){this.getScrollbarPosition(b,!this.rotate,this.valueAxes[0].position),this.adjustMargins(b,!this.rotate)}},updateScrollbars:function(){a.AmSerialChart.base.updateScrollbars.call(this);this.updateChartScrollbar(this.chartScrollbar,this.rotate);this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(e,d){var f=this.categoryAxis;f.parseDates&&!f.equalSpacing?this.timeZoom(e,d):this.indexZoom(e,d);isNaN(e)&&this.zoomOutValueAxes();this.updateLegendValues()},timeZoom:function(i,e){var p=this.maxSelectedTime;isNaN(p)||(e!=this.endTime&&e-i>p&&(i=e-p),i!=this.startTime&&e-i>p&&(e=i+p));var o=this.minSelectedTime;if(0<o&&e-i<o){var n=Math.round(i+(e-i)/2),o=Math.round(o/2);i=n-o;e=n+o}o=this.chartData;n=this.categoryAxis;if(a.ifArray(o)&&(i!=this.startTime||e!=this.endTime)){var m=n.minDuration(),l=this.firstTime,j=this.lastTime;i||(i=l,isNaN(p)||(i=j-p));e||(e=j);i>j&&(i=j);e<l&&(e=l);i<l&&(i=l);e>j&&(e=j);e<i&&(e=i+m);e-i<m/5&&(e<j?e=i+m/5:i=e-m/5);this.startTime=i;this.endTime=e;p=o.length-1;m=this.getClosestIndex(o,"time",i,!0,0,p);o=this.getClosestIndex(o,"time",e,!1,m,p);n.timeZoom(i,e);n.zoom(m,o);this.start=a.fitToBounds(m,0,p);this.end=a.fitToBounds(o,0,p);this.zoomAxesAndGraphs();this.zoomScrollbar();this.fixCursor();this.showZB();this.updateColumnsDepth();this.dispatchTimeZoomEvent()}},showZB:function(){var d;this.startTime>this.firstTime&&(d=!0);this.endTime<this.lastTime&&(d=!0);0<this.start&&(d=!0);this.end<this.chartData.length-1&&(d=!0);var c=this.valueAxes;c&&(c=c[0],0!==c.relativeStart&&(d=!0),1!=c.relativeEnd&&(d=!0));a.AmSerialChart.base.showZB.call(this,d)},updateAfterValueZoom:function(){a.AmSerialChart.base.updateAfterValueZoom.call(this);this.updateColumnsDepth()},indexZoom:function(f,e){var h=this.maxSelectedSeries;isNaN(h)||(e!=this.end&&e-f>h&&(f=e-h),f!=this.start&&e-f>h&&(e=f+h));if(f!=this.start||e!=this.end){var g=this.chartData.length-1;isNaN(f)&&(f=0,isNaN(h)||(f=g-h));isNaN(e)&&(e=g);e<f&&(e=f);e>g&&(e=g);f>g&&(f=g-1);0>f&&(f=0);this.start=f;this.end=e;this.categoryAxis.zoom(f,e);this.zoomAxesAndGraphs();this.zoomScrollbar();this.fixCursor();0!==f||e!=this.chartData.length-1?this.showZB(!0):this.showZB(!1);this.updateColumnsDepth();this.dispatchIndexZoomEvent()}},updateGraphs:function(){a.AmSerialChart.base.updateGraphs.call(this);var e=this.graphs,d;for(d=0;d<e.length;d++){var f=e[d];f.columnWidthReal=this.columnWidth;f.categoryAxis=this.categoryAxis;a.isString(f.fillToGraph)&&(f.fillToGraph=this.graphsById[f.fillToGraph])}},zoomAxesAndGraphs:function(){a.AmSerialChart.base.zoomAxesAndGraphs.call(this);this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var g,e=this.graphs,j;this.columnsArray=[];for(g=0;g<e.length;g++){j=e[g];var i=j.columnsArray;if(i){var h;for(h=0;h<i.length;h++){this.columnsArray.push(i[h])}}}this.columnsArray.sort(this.compareDepth);if(0<this.columnsArray.length){e=this.columnsSet;i=this.container.set();this.columnSet.push(i);for(g=0;g<this.columnsArray.length;g++){i.push(this.columnsArray[g].column.set)}j&&i.translate(j.x,j.y);this.columnsSet=i;a.remove(e)}}},compareDepth:function(d,c){return d.depth>c.depth?1:-1},zoomScrollbar:function(){var e=this.chartScrollbar,d=this.categoryAxis;if(e){if(!this.zoomedByScrollbar){var f=e.dragger;f&&f.stop()}this.zoomedByScrollbar=!1;d.parseDates&&!d.equalSpacing?e.timeZoom(this.startTime,this.endTime):e.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var e=this.trendLines,d;for(d=0;d<e.length;d++){var f=e[d],f=a.processObject(f,a.TrendLine,this.theme);e[d]=f;f.chart=this;f.id||(f.id="trendLineAuto"+d+"_"+(new Date).getTime());a.isString(f.valueAxis)&&(f.valueAxis=this.getValueAxisById(f.valueAxis));f.valueAxis||(f.valueAxis=this.valueAxes[0]);f.categoryAxis=this.categoryAxis}},countColumns:function(){var r=0,q=this.valueAxes.length,p=this.graphs.length,o,m,n=!1,j,i;for(i=0;i<q;i++){m=this.valueAxes[i];var g=m.stackType;if("100%"==g||"regular"==g){for(n=!1,j=0;j<p;j++){o=this.graphs[j],o.tcc=1,o.valueAxis==m&&"column"==o.type&&(!n&&o.stackable&&(r++,n=!0),(!o.stackable&&o.clustered||o.newStack)&&r++,o.columnIndex=r-1,o.clustered||(o.columnIndex=0))}}if("none"==g||"3d"==g){n=!1;for(j=0;j<p;j++){o=this.graphs[j],o.valueAxis==m&&"column"==o.type&&(o.clustered?(o.tcc=1,o.newStack&&(r=0),o.hidden||(o.columnIndex=r,r++)):o.hidden||(n=!0,o.tcc=1,o.columnIndex=0))}n&&0===r&&(r=1)}if("3d"==g){m=1;for(i=0;i<p;i++){o=this.graphs[i],o.newStack&&m++,o.depthCount=m,o.tcc=r}r=m}}return r},parseData:function(){a.AmSerialChart.base.parseData.call(this);this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(e){var d=this.chartData,f;for(f=0;f<d.length;f++){if(d[f].category==e){return f}}},handleScrollbarZoom:function(b){this.zoomedByScrollbar=!0;this.zoom(b.start,b.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var e={type:"zoomed"};e.startDate=new Date(this.startTime);e.endDate=new Date(this.endTime);e.startIndex=this.start;e.endIndex=this.end;this.startIndex=this.start;this.endIndex=this.end;this.startDate=e.startDate;this.endDate=e.endDate;this.prevStartTime=this.startTime;this.prevEndTime=this.endTime;var d=this.categoryAxis,f=a.extractPeriod(d.minPeriod).period,d=d.dateFormatsObject[f];e.startValue=a.formatDate(e.startDate,d,this);e.endValue=a.formatDate(e.endDate,d,this);e.chart=this;e.target=this;this.fire(e)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start;this.endIndex=this.end;var d=this.chartData;if(a.ifArray(d)&&!isNaN(this.start)&&!isNaN(this.end)){var c={chart:this,target:this,type:"zoomed"};c.startIndex=this.start;c.endIndex=this.end;c.startValue=d[this.start].category;c.endValue=d[this.end].category;this.categoryAxis.parseDates&&(this.startTime=d[this.start].time,this.endTime=d[this.end].time,c.startDate=new Date(this.startTime),c.endDate=new Date(this.endTime));this.prevStartIndex=this.start;this.prevEndIndex=this.end;this.fire(c)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(i,g,p,o,m,n){0>m&&(m=0);n>i.length-1&&(n=i.length-1);var l=m+Math.round((n-m)/2),j=i[l][g];return p==j?l:1>=n-m?o?m:Math.abs(i[m][g]-p)<Math.abs(i[n][g]-p)?m:n:p==j?l:p<j?this.getClosestIndex(i,g,p,o,m,l):this.getClosestIndex(i,g,p,o,l,n)},zoomToIndexes:function(f,e){var h=this.chartData;if(h){var g=h.length;0<g&&(0>f&&(f=0),e>g-1&&(e=g-1),g=this.categoryAxis,g.parseDates&&!g.equalSpacing?this.zoom(h[f].time,this.getEndTime(h[e].time)):this.zoom(f,e))}},zoomToDates:function(f,e){var h=this.chartData;if(h){if(this.categoryAxis.equalSpacing){var g=this.getClosestIndex(h,"time",f.getTime(),!0,0,h.length);e=a.resetDateToMin(e,this.categoryAxis.minPeriod,1);h=this.getClosestIndex(h,"time",e.getTime(),!1,0,h.length);this.zoom(g,h)}else{this.zoom(f.getTime(),e.getTime())}}},zoomToCategoryValues:function(d,c){this.chartData&&this.zoom(this.getCategoryIndexByValue(d),this.getCategoryIndexByValue(c))},formatPeriodString:function(ab,aa){if(aa){var Z=["value","open","low","high","close"],Y="value open low high close average sum count".split(" "),X=aa.valueAxis,W=this.chartData,V=aa.numberFormatter;V||(V=this.nf);for(var U=0;U<Z.length;U++){for(var T=Z[U],S=0,O=0,R,Q,j,I,N,M=0,J=0,L,E,o,P,e,s=this.start;s<=this.end;s++){var i=W[s];if(i&&(i=i.axes[X.id].graphs[aa.id])){if(i.values){var K=i.values[T];if(this.rotate){if(0>i.x||i.x>i.graph.height){K=NaN}}else{if(0>i.x||i.x>i.graph.width){K=NaN}}if(!isNaN(K)){isNaN(R)&&(R=K);Q=K;if(isNaN(j)||j>K){j=K}if(isNaN(I)||I<K){I=K}N=a.getDecimals(S);var H=a.getDecimals(K),S=S+K,S=a.roundTo(S,Math.max(N,H));O++;N=S/O}}if(i.percents&&(i=i.percents[T],!isNaN(i))){isNaN(L)&&(L=i);E=i;if(isNaN(o)||o>i){o=i}if(isNaN(P)||P<i){P=i}e=a.getDecimals(M);K=a.getDecimals(i);M+=i;M=a.roundTo(M,Math.max(e,K));J++;e=M/J}}}M={open:L,close:E,high:P,low:o,average:e,sum:M,count:J};ab=a.formatValue(ab,{open:R,close:Q,high:I,low:j,average:N,sum:S,count:O},Y,V,T+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);ab=a.formatValue(ab,M,Y,this.pf,"percents\\."+T+"\\.")}}return ab=a.cleanFromEmpty(ab)},formatString:function(i,e,n){var m=e.graph;if(void 0!==i){if(-1!=i.indexOf("[[category]]")){var l=e.serialDataItem.category;if(this.categoryAxis.parseDates){var k=this.balloonDateFormat,j=this.chartCursor;j&&j.categoryBalloonDateFormat&&(k=j.categoryBalloonDateFormat);k=a.formatDate(l,k,this);-1!=k.indexOf("fff")&&(k=a.formatMilliseconds(k,l));l=k}i=i.replace(/\[\[category\]\]/g,String(l))}l=m.numberFormatter;l||(l=this.nf);k=e.graph.valueAxis;(j=k.duration)&&!isNaN(e.values.value)&&(j=a.formatDuration(e.values.value,j,"",k.durationUnits,k.maxInterval,l),i=i.replace(RegExp("\\[\\[value\\]\\]","g"),j));"date"==k.type&&(k=a.formatDate(new Date(e.values.value),m.dateFormat,this),j=RegExp("\\[\\[value\\]\\]","g"),i=i.replace(j,k),k=a.formatDate(new Date(e.values.open),m.dateFormat,this),j=RegExp("\\[\\[open\\]\\]","g"),i=i.replace(j,k));m="value open low high close total".split(" ");k=this.pf;i=a.formatValue(i,e.percents,m,k,"percents\\.");i=a.formatValue(i,e.values,m,l,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);i=a.formatValue(i,e.values,["percents"],k);-1!=i.indexOf("[[")&&(i=a.formatDataContextValue(i,e.dataContext));-1!=i.indexOf("[[")&&e.graph.customData&&(i=a.formatDataContextValue(i,e.graph.customData));i=a.AmSerialChart.base.formatString.call(this,i,e,n)}return i},updateChartCursor:function(){a.AmSerialChart.base.updateChartCursor.call(this);var i=this.chartCursor,e=this.categoryAxis;if(i){var p=i.categoryBalloonAlpha,o=i.categoryBalloonColor,n=i.color;void 0===o&&(o=i.cursorColor);var m=i.valueZoomable,l=i.zoomable,j=i.valueLineEnabled;this.rotate?(i.vLineEnabled=j,i.hZoomEnabled=m,i.vZoomEnabled=l):(i.hLineEnabled=j,i.vZoomEnabled=m,i.hZoomEnabled=l);if(i.valueLineBalloonEnabled){for(l=0;l<this.valueAxes.length;l++){j=this.valueAxes[l],(m=j.balloon)||(m={}),m=a.extend(m,this.balloon,!0),m.fillColor=o,m.balloonColor=o,m.fillAlpha=p,m.borderColor=o,m.color=n,j.balloon=m}}e&&(e.balloonTextFunction=i.categoryBalloonFunction,i.categoryLineAxis=e,e.balloonText=i.categoryBalloonText,i.categoryBalloonEnabled&&((m=e.balloon)||(m={}),m=a.extend(m,this.balloon,!0),m.fillColor=o,m.balloonColor=o,m.fillAlpha=p,m.borderColor=o,m.color=n,e.balloon=m))}},addChartScrollbar:function(b){a.callMethod("destroy",[this.chartScrollbar]);b&&(b.chart=this,this.listenTo(b,"zoomed",this.handleScrollbarZoom));this.rotate?void 0===b.width&&(b.width=b.scrollbarHeight):void 0===b.height&&(b.height=b.scrollbarHeight);b.gridAxis=this.categoryAxis;this.chartScrollbar=b},addValueScrollbar:function(d){a.callMethod("destroy",[this.valueScrollbar]);d&&(d.chart=this,this.listenTo(d,"zoomed",this.handleScrollbarValueZoom),this.listenTo(d,"zoomStarted",this.handleCursorZoomStarted));var c=d.scrollbarHeight;this.rotate?void 0===d.height&&(d.height=c):void 0===d.width&&(d.width=c);d.gridAxis||(d.gridAxis=this.valueAxes[0]);d.valueAxes=this.valueAxes;this.valueScrollbar=d},removeChartScrollbar:function(){a.callMethod("destroy",[this.chartScrollbar]);this.chartScrollbar=null},removeValueScrollbar:function(){a.callMethod("destroy",[this.valueScrollbar]);this.valueScrollbar=null},handleReleaseOutside:function(b){a.AmSerialChart.base.handleReleaseOutside.call(this,b);a.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){a.AmSerialChart.base.update.call(this);this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update();this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){a.AmSerialChart.base.processScrollbars.call(this);var b=this.valueScrollbar;b&&(b=a.processObject(b,a.ChartScrollbar,this.theme),b.id="valueScrollbar",this.addValueScrollbar(b))},handleValueAxisZoom:function(b){this.handleValueAxisZoomReal(b,this.valueAxes)},zoomOut:function(){a.AmSerialChart.base.zoomOut.call(this);this.zoom()},getNextItem:function(f){var e=f.index,h=this.chartData,g=f.graph;if(e+1<h.length){for(e+=1;e<h.length;e++){if(f=h[e]){if(f=f.axes[g.valueAxis.id].graphs[g.id],!isNaN(f.y)){return f}}}}},handleCursorZoomReal:function(i,f,p,o,n){var m=n.target,l,j;this.rotate?(isNaN(i)||isNaN(f)||this.relativeZoomValueAxes(this.valueAxes,i,f)&&this.updateAfterValueZoom(),m.vZoomEnabled&&(l=n.start,j=n.end)):(isNaN(p)||isNaN(o)||this.relativeZoomValueAxes(this.valueAxes,p,o)&&this.updateAfterValueZoom(),m.hZoomEnabled&&(l=n.start,j=n.end));isNaN(l)||isNaN(j)||(i=this.categoryAxis,i.parseDates&&!i.equalSpacing?this.zoomToDates(new Date(l),new Date(j)):this.zoomToIndexes(l,j))},handleCursorZoomStarted:function(){var e=this.valueAxes;if(e){var e=e[0],d=e.relativeStart,f=e.relativeEnd;e.reversed&&(d=1-e.relativeEnd,f=1-e.relativeStart);this.rotate?(this.startX0=d,this.endX0=f):(this.startY0=d,this.endY0=f)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition();this.prevCursorItem=null},handleCursorMove:function(x){a.AmSerialChart.base.handleCursorMove.call(this,x);var w=x.target,v=this.categoryAxis;if(x.panning){this.handleCursorHide(x)}else{if(this.chartData&&!w.isHidden){var u=this.graphs;if(u){var t;t=v.xToIndex(this.rotate?x.y:x.x);if(t=this.chartData[t]){var s,r,p,o;if(w.oneBalloonOnly){var j=Infinity;for(s=0;s<u.length;s++){if(r=u[s],r.balloon.enabled&&r.showBalloon&&!r.hidden){p=r.valueAxis.id;p=t.axes[p].graphs[r.id];p=p.y;"top"==r.showBalloonAt&&(p=0);"bottom"==r.showBalloonAt&&(p=this.height);var e=w.mouseX,i=w.mouseY;p=this.rotate?Math.abs(e-p):Math.abs(i-p);p<j&&(j=p,o=r)}}w.mostCloseGraph=o}if(this.prevCursorItem!=t||o!=this.prevMostCloseGraph){j=[];for(s=0;s<u.length;s++){r=u[s],p=r.valueAxis.id,p=t.axes[p].graphs[r.id],w.showNextAvailable&&isNaN(p.y)&&(p=this.getNextItem(p)),o&&r!=o?(r.showGraphBalloon(p,w.pointer,!1),r.balloon.hide(0)):w.valueBalloonsEnabled?(r.balloon.showBullet=w.bulletsEnabled,r.balloon.bulletSize=w.bulletSize/2,r.showGraphBalloon(p,w.pointer,!1,w.graphBulletSize,w.graphBulletAlpha),r.balloon.set&&j.push({balloon:r.balloon,y:r.balloon.pointToY})):r.currentDataItem=p}w.avoidBalloonOverlapping&&this.arrangeBalloons(j);this.prevCursorItem=t}this.prevMostCloseGraph=o}}v.showBalloon(x.x,x.y,w.categoryBalloonDateFormat,x.skip);this.updateLegendValues()}}},handleCursorHide:function(d){a.AmSerialChart.base.handleCursorHide.call(this,d);d=this.categoryAxis;this.prevCursorItem=null;this.updateLegendValues();d&&d.hideBalloon();d=this.graphs;var c;for(c=0;c<d.length;c++){d[c].currentDataItem=null}},handleCursorPanning:function(x){var w=x.target,v,u=x.deltaX,t=x.deltaY,s=x.delta2X,r=x.delta2Y;x=!1;if(this.rotate){isNaN(s)&&(s=u,x=!0);var p=this.endX0;v=this.startX0;var o=p-v,p=p-o*s,j=o;x||(j=0);x=a.fitToBounds(v-o*u,0,1-j)}else{isNaN(r)&&(r=t,x=!0),p=this.endY0,v=this.startY0,o=p-v,p+=o*t,j=o,x||(j=0),x=a.fitToBounds(v+o*r,0,1-j)}v=a.fitToBounds(p,j,1);var e;w.valueZoomable&&(e=this.relativeZoomValueAxes(this.valueAxes,x,v));var i;v=this.categoryAxis;this.rotate&&(u=t,s=r);x=!1;isNaN(s)&&(s=u,x=!0);if(w.zoomable&&(0<Math.abs(u)||0<Math.abs(s))){if(v.parseDates&&!v.equalSpacing){if(r=this.startTime0,t=this.endTime0,v=t-r,s*=v,o=this.firstTime,p=this.lastTime,j=v,x||(j=0),x=Math.round(a.fitToBounds(r-v*u,o,p-j)),s=Math.round(a.fitToBounds(t-s,o+j,p)),this.startTime!=x||this.endTime!=s){i={chart:this,target:w,type:"zoomed",start:x,end:s},this.skipZoomed=!0,w.fire(i),this.zoom(x,s),i=!0}}else{if(r=this.start0,t=this.end0,v=t-r,u=Math.round(v*u),s=Math.round(v*s),o=this.chartData.length-1,x||(v=0),x=a.fitToBounds(r-u,0,o-v),v=a.fitToBounds(t-s,v,o),this.start!=x||this.end!=v){this.skipZoomed=!0,w.fire({chart:this,target:w,type:"zoomed",start:x,end:v}),this.zoom(x,v),i=!0}}}!i&&e&&this.updateAfterValueZoom()},arrangeBalloons:function(i){var f=this.plotAreaHeight;i.sort(this.compareY);var p,o,n,m=this.plotAreaWidth,l=i.length;for(p=0;p<l;p++){o=i[p].balloon,o.setBounds(0,0,m,f),o.restorePrevious(),o.draw(),f=o.yPos-3}i.reverse();for(p=0;p<l;p++){o=i[p].balloon;var f=o.bottom,j=o.bottom-o.yPos;0<p&&f-j<n+3&&(o.setBounds(0,n+3,m,n+j+3),o.restorePrevious(),o.draw());o.set&&o.set.show();n=o.bottom}},compareY:function(d,c){return d.y<c.y?1:-1}})})();(function(){var a=window.AmCharts;a.Cuboid=a.Class({construct:function(G,E,D,C,A,z,y,w,v,t,i,s,o,F,H,j,f){this.set=G.set();this.container=G;this.h=Math.round(D);this.w=Math.round(E);this.dx=C;this.dy=A;this.colors=z;this.alpha=y;this.bwidth=w;this.bcolor=v;this.balpha=t;this.dashLength=F;this.topRadius=j;this.pattern=H;this.rotate=o;this.bcn=f;o?0>E&&0===i&&(i=180):0>D&&270==i&&(i=90);this.gradientRotation=i;0===C&&0===A&&(this.cornerRadius=s);this.draw()},draw:function(){var ay=this.set;ay.clear();var ax=this.container,aw=ax.chart,av=this.w,au=this.h,at=this.dx,ar=this.dy,aq=this.colors,ap=this.alpha,ao=this.bwidth,al=this.bcolor,an=this.balpha,am=this.gradientRotation,af=this.cornerRadius,ai=this.dashLength,ab=this.pattern,ak=this.topRadius,aj=this.bcn,aa=aq,ah=aq;"object"==typeof aq&&(aa=aq[0],ah=aq[aq.length-1]);var ag,ac,ad,W,ae,Z,X,R,s,e=ap;ab&&(ap=0);var Y,V,U,T,S=this.rotate;if(0<Math.abs(at)||0<Math.abs(ar)){if(isNaN(ak)){X=ah,ah=a.adjustLuminosity(aa,-0.2),ah=a.adjustLuminosity(aa,-0.2),ag=a.polygon(ax,[0,at,av+at,av,0],[0,ar,ar,0,0],ah,ap,1,al,0,am),0<an&&(s=a.line(ax,[0,at,av+at],[0,ar,ar],al,an,ao,ai)),ac=a.polygon(ax,[0,0,av,av,0],[0,au,au,0,0],ah,ap,1,al,0,am),ac.translate(at,ar),0<an&&(ad=a.line(ax,[at,at],[ar,ar+au],al,an,ao,ai)),W=a.polygon(ax,[0,0,at,at,0],[0,au,au+ar,ar,0],ah,ap,1,al,0,am),ae=a.polygon(ax,[av,av,av+at,av+at,av],[0,au,au+ar,ar,0],ah,ap,1,al,0,am),0<an&&(Z=a.line(ax,[av,av+at,av+at,av],[0,ar,au+ar,au],al,an,ao,ai)),ah=a.adjustLuminosity(X,0.2),X=a.polygon(ax,[0,at,av+at,av,0],[au,au+ar,au+ar,au,au],ah,ap,1,al,0,am),0<an&&(R=a.line(ax,[0,at,av+at],[au,au+ar,au+ar],al,an,ao,ai))}else{var o,j,i;S?(o=au/2,ah=at/2,i=au/2,j=av+at/2,V=Math.abs(au/2),Y=Math.abs(at/2)):(ah=av/2,o=ar/2,j=av/2,i=au+ar/2+1,Y=Math.abs(av/2),V=Math.abs(ar/2));U=Y*ak;T=V*ak;0.1<Y&&0.1<Y&&(ag=a.circle(ax,Y,aa,ap,ao,al,an,!1,V),ag.translate(ah,o));0.1<U&&0.1<U&&(X=a.circle(ax,U,a.adjustLuminosity(aa,0.5),ap,ao,al,an,!1,T),X.translate(j,i))}}ap=e;1>Math.abs(au)&&(au=0);1>Math.abs(av)&&(av=0);!isNaN(ak)&&(0<Math.abs(at)||0<Math.abs(ar))?(aq=[aa],aq={fill:aq,stroke:al,"stroke-width":ao,"stroke-opacity":an,"fill-opacity":ap},S?(ap="M0,0 L"+av+","+(au/2-au/2*ak),ao=" B",0<av&&(ao=" A"),a.VML?(ap+=ao+Math.round(av-U)+","+Math.round(au/2-T)+","+Math.round(av+U)+","+Math.round(au/2+T)+","+av+",0,"+av+","+au,ap=ap+(" L0,"+au)+(ao+Math.round(-Y)+","+Math.round(au/2-V)+","+Math.round(Y)+","+Math.round(au/2+V)+",0,"+au+",0,0")):(ap+="A"+U+","+T+",0,0,0,"+av+","+(au-au/2*(1-ak))+"L0,"+au,ap+="A"+Y+","+V+",0,0,1,0,0"),Y=90):(ao=av/2-av/2*ak,ap="M0,0 L"+ao+","+au,a.VML?(ap="M0,0 L"+ao+","+au,ao=" B",0>au&&(ao=" A"),ap+=ao+Math.round(av/2-U)+","+Math.round(au-T)+","+Math.round(av/2+U)+","+Math.round(au+T)+",0,"+au+","+av+","+au,ap+=" L"+av+",0",ap+=ao+Math.round(av/2+Y)+","+Math.round(V)+","+Math.round(av/2-Y)+","+Math.round(-V)+","+av+",0,0,0"):(ap+="A"+U+","+T+",0,0,0,"+(av-av/2*(1-ak))+","+au+"L"+av+",0",ap+="A"+Y+","+V+",0,0,1,0,0"),Y=180),ax=ax.path(ap).attr(aq),ax.gradient("linearGradient",[aa,a.adjustLuminosity(aa,-0.3),a.adjustLuminosity(aa,-0.3),aa],Y),S?ax.translate(at/2,0):ax.translate(0,ar/2)):ax=0===au?a.line(ax,[0,av],[0,0],al,an,ao,ai):0===av?a.line(ax,[0,0],[0,au],al,an,ao,ai):0<af?a.rect(ax,av,au,aq,ap,ao,al,an,af,am,ai):a.polygon(ax,[0,0,av,av,0],[0,au,au,0,0],aq,ap,ao,al,an,am,!1,ai);av=isNaN(ak)?0>au?[ag,s,ac,ad,W,ae,Z,X,R,ax]:[X,R,ac,ad,W,ae,ag,s,Z,ax]:S?0<av?[ag,ax,X]:[X,ax,ag]:0>au?[ag,ax,X]:[X,ax,ag];a.setCN(aw,ax,aj+"front");a.setCN(aw,ac,aj+"back");a.setCN(aw,X,aj+"top");a.setCN(aw,ag,aj+"bottom");a.setCN(aw,W,aj+"left");a.setCN(aw,ae,aj+"right");for(ag=0;ag<av.length;ag++){if(ac=av[ag]){ay.push(ac),a.setCN(aw,ac,aj+"element")}}ab&&ax.pattern(ab,NaN,aw.path)},width:function(b){isNaN(b)&&(b=0);this.w=Math.round(b);this.draw()},height:function(b){isNaN(b)&&(b=0);this.h=Math.round(b);this.draw()},animateHeight:function(e,d){var f=this;f.animationFinished=!1;f.easing=d;f.totalFrames=e*a.updateRate;f.rh=f.h;f.frame=0;f.height(1);setTimeout(function(){f.updateHeight.call(f)},1000/a.updateRate)},updateHeight:function(){var d=this;d.frame++;var c=d.totalFrames;d.frame<=c?(c=d.easing(0,d.frame,1,d.rh-1,c),d.height(c),window.requestAnimationFrame?window.requestAnimationFrame(function(){d.updateHeight.call(d)}):setTimeout(function(){d.updateHeight.call(d)},1000/a.updateRate)):(d.height(d.rh),d.animationFinished=!0)},animateWidth:function(e,d){var f=this;f.animationFinished=!1;f.easing=d;f.totalFrames=e*a.updateRate;f.rw=f.w;f.frame=0;f.width(1);setTimeout(function(){f.updateWidth.call(f)},1000/a.updateRate)},updateWidth:function(){var d=this;d.frame++;var c=d.totalFrames;d.frame<=c?(c=d.easing(0,d.frame,1,d.rw-1,c),d.width(c),window.requestAnimationFrame?window.requestAnimationFrame(function(){d.updateWidth.call(d)}):setTimeout(function(){d.updateWidth.call(d)},1000/a.updateRate)):(d.width(d.rw),d.animationFinished=!0)}})})();(function(){var a=window.AmCharts;a.CategoryAxis=a.Class({inherits:a.AxisBase,construct:function(b){this.cname="CategoryAxis";a.CategoryAxis.base.construct.call(this,b);this.minPeriod="DD";this.equalSpacing=this.parseDates=!1;this.position="bottom";this.startOnAxis=!1;this.gridPosition="middle";this.safeDistance=30;this.stickBalloonToCategory=!1;a.applyTheme(this,b,this.cname)},draw:function(){a.CategoryAxis.base.draw.call(this);this.generateDFObject();var V=this.chart.chartData;this.data=V;this.labelRotationR=this.labelRotation;this.type=null;if(a.ifArray(V)){var U,T=this.chart;"scrollbar"!=this.id?(a.setCN(T,this.set,"category-axis"),a.setCN(T,this.labelsSet,"category-axis"),a.setCN(T,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var S=this.start,R=this.labelFrequency,Q=0,P=this.end-S+1,O=this.gridCountR,N=this.showFirstLabel,M=this.showLastLabel,I,L,K="",K=a.extractPeriod(this.minPeriod),i=a.getPeriodDuration(K.period,K.count),y,H,F,D,E=this.rotate;I=this.firstDayOfWeek;L=this.boldPeriodBeginning;U=a.resetDateToMin(new Date(V[V.length-1].time+1.05*i),this.minPeriod,1,I).getTime();this.firstTime=T.firstTime;this.endTime>U&&(this.endTime=U);D=this.minorGridEnabled;H=this.gridAlpha;var s,j=0,J=0;if(this.widthField){for(U=this.start;U<=this.end;U++){if(s=this.data[U]){var e=Number(this.data[U].dataContext[this.widthField]);isNaN(e)||(j+=e,s.widthValue=e)}}}if(this.parseDates&&!this.equalSpacing){this.lastTime=V[V.length-1].time,this.maxTime=a.resetDateToMin(new Date(this.lastTime+1.05*i),this.minPeriod,1,I).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw()}else{if(!this.parseDates){if(this.cellWidth=this.getStepWidth(P),P<O&&(O=P),Q+=this.start,this.stepWidth=this.getStepWidth(P),0<O){for(O=Math.floor(P/O),P=this.chooseMinorFrequency(O),K=Q,K/2==Math.round(K/2)&&K--,0>K&&(K=0),s=0,this.widthField&&(K=this.start),this.end-K+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),U=K;U<=this.end+2;U++){L=!1;0<=U&&U<this.data.length?(y=this.data[U],K=y.category,L=y.forceShow):K="";if(D&&!isNaN(P)){if(U/P==Math.round(U/P)||L){U/O==Math.round(U/O)||L||(this.gridAlpha=this.minorGridAlpha,K=void 0)}else{continue}}else{if(U/O!=Math.round(U/O)&&!L){continue}}I=this.getCoordinate(U-Q);F=0;"start"==this.gridPosition&&(I-=this.cellWidth/2,F=this.cellWidth/2);L=!0;V=F;"start"==this.tickPosition&&(V=0,L=!1,F=0);if(U==S&&!N||U==this.end&&!M){K=void 0}Math.round(s/R)!=s/R&&(K=void 0);s++;e=this.cellWidth;E&&(e=NaN,this.ignoreAxisWidth||!T.autoMargins)&&(e="right"==this.position?T.marginRight:T.marginLeft,e-=this.tickLength+10);this.labelFunction&&y&&(K=this.labelFunction(K,y,this));K=a.fixBrakes(K);i=!1;this.boldLabels&&(i=!0);U>this.end&&"start"==this.tickPosition&&(K=" ");this.rotate&&this.inside&&(F-=2);isNaN(y.widthValue)||(y.percentWidthValue=y.widthValue/j*100,e=this.rotate?this.height*y.widthValue/j:this.width*y.widthValue/j,I=J,J+=e,F=e/2);F=new this.axisItemRenderer(this,I,K,L,e,F,void 0,i,V,!1,y.labelColor,y.className);F.serialDataItem=y;this.pushAxisItem(F);this.gridAlpha=H}}}else{if(this.parseDates&&this.equalSpacing){Q=this.start;this.startTime=this.data[this.start].time;this.endTime=this.data[this.end].time;this.timeDifference=this.endTime-this.startTime;U=this.choosePeriod(0);R=U.period;y=U.count;U=a.getPeriodDuration(R,y);U<i&&(R=K.period,y=K.count,U=i);H=R;"WW"==H&&(H="DD");this.currentDateFormat=this.dateFormatsObject[H];this.stepWidth=this.getStepWidth(P);O=Math.ceil(this.timeDifference/U)+1;i=a.resetDateToMin(new Date(this.startTime-U),R,y,I).getTime();this.cellWidth=this.getStepWidth(P);K=Math.round(i/U);S=-1;K/2==Math.round(K/2)&&(S=-2,i-=U);K=this.start;K/2==Math.round(K/2)&&K--;0>K&&(K=0);J=this.end+2;J>=this.data.length&&(J=this.data.length);s=!1;s=!N;this.previousPos=-1000;20<this.labelRotationR&&(this.safeDistance=5);V=K;if(this.data[K].time!=a.resetDateToMin(new Date(this.data[K].time),R,y,I).getTime()){for(I=0,e=i,U=K;U<J;U++){P=this.data[U].time,this.checkPeriodChange(R,y,P,e)&&(I++,2<=I&&(V=U,U=J),e=P)}}D&&1<y&&(P=this.chooseMinorFrequency(y),a.getPeriodDuration(R,P));if(0<this.gridCountR){for(U=K;U<J;U++){if(P=this.data[U].time,this.checkPeriodChange(R,y,P,i)&&U>=V){I=this.getCoordinate(U-this.start);D=!1;this.nextPeriod[H]&&(D=this.checkPeriodChange(this.nextPeriod[H],1,P,i,H));i=!1;D&&this.markPeriodChange?(D=this.dateFormatsObject[this.nextPeriod[H]],i=!0):D=this.dateFormatsObject[H];K=a.formatDate(new Date(P),D,T);if(U==S&&!N||U==O&&!M){K=" "}s?s=!1:(L||(i=!1),I-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(K=this.labelFunction(K,new Date(P),this,R,y,F)),this.boldLabels&&(i=!0),F=new this.axisItemRenderer(this,I,K,void 0,void 0,void 0,void 0,i),D=F.graphics(),this.pushAxisItem(F),D=D.getBBox().width,a.isModern||(D-=I),this.previousPos=I+D));F=i=P}}}}}}for(U=N=0;U<this.data.length;U++){if(s=this.data[U]){this.parseDates&&!this.equalSpacing?(M=s.time,S=this.cellWidth,"MM"==this.minPeriod&&(S=86400000*a.daysInMonth(new Date(M))*this.stepWidth,s.cellWidth=S),M=Math.round((M-this.startTime)*this.stepWidth+S/2)):M=this.getCoordinate(U-Q),s.x[this.id]=M}}if(this.widthField){for(U=this.start;U<=this.end;U++){s=this.data[U],S=s.widthValue,s.percentWidthValue=S/j*100,this.rotate?(M=this.height*S/j/2+N,N=this.height*S/j+N):(M=this.width*S/j/2+N,N=this.width*S/j+N),s.x[this.id]=M}}j=this.guides.length;for(U=0;U<j;U++){N=this.guides[U],L=O=O=D=S=NaN,M=N.above,N.toCategory&&(O=T.getCategoryIndexByValue(N.toCategory),isNaN(O)||(S=this.getCoordinate(O-Q),N.expand&&(S+=this.cellWidth/2),F=new this.axisItemRenderer(this,S,"",!0,NaN,NaN,N),this.pushAxisItem(F,M))),N.category&&(L=T.getCategoryIndexByValue(N.category),isNaN(L)||(D=this.getCoordinate(L-Q),N.expand&&(D-=this.cellWidth/2),O=(S-D)/2,F=new this.axisItemRenderer(this,D,N.label,!0,NaN,O,N),this.pushAxisItem(F,M))),L=T.dataDateFormat,N.toDate&&(!L||N.toDate instanceof Date||(N.toDate=N.toDate.toString()+" |"),N.toDate=a.getDate(N.toDate,L),this.equalSpacing?(O=T.getClosestIndex(this.data,"time",N.toDate.getTime(),!1,0,this.data.length-1),isNaN(O)||(S=this.getCoordinate(O-Q))):S=(N.toDate.getTime()-this.startTime)*this.stepWidth,F=new this.axisItemRenderer(this,S,"",!0,NaN,NaN,N),this.pushAxisItem(F,M)),N.date&&(!L||N.date instanceof Date||(N.date=N.date.toString()+" |"),N.date=a.getDate(N.date,L),this.equalSpacing?(L=T.getClosestIndex(this.data,"time",N.date.getTime(),!1,0,this.data.length-1),isNaN(L)||(D=this.getCoordinate(L-Q))):D=(N.date.getTime()-this.startTime)*this.stepWidth,O=(S-D)/2,L=!0,N.toDate&&(L=!1),F="H"==this.orientation?new this.axisItemRenderer(this,D,N.label,L,2*O,NaN,N):new this.axisItemRenderer(this,D,N.label,!1,NaN,O,N),this.pushAxisItem(F,M)),(0<S||0<D)&&(S<this.width||D<this.width)&&(S=new this.guideFillRenderer(this,D,S,N),D=S.graphics(),this.pushAxisItem(S,M),N.graphics=D,D.index=U,N.balloonText&&this.addEventListeners(D,N))}if(T=T.chartCursor){E?T.fixHeight(this.cellWidth):(T.fixWidth(this.cellWidth),T.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))}this.previousHeight=o}this.axisCreated=!0;this.set.translate(this.x,this.y);this.labelsSet.translate(this.x,this.y);this.labelsSet.show();this.positionTitle();(E=this.axisLine.set)&&E.toFront();var o=this.getBBox().height;2<o-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(i){var e=this.data,p=this.chart,o=p.rotate,n=this.stepWidth,m;if(this.parseDates&&!this.equalSpacing){i=this.startTime+Math.round(i/n)-this.minDuration()/2,m=p.getClosestIndex(e,"time",i,!1,this.start,this.end+1)}else{if(this.widthField){for(p=Infinity,n=this.start;n<=this.end;n++){var l=this.data[n];l&&(l=Math.abs(l.x[this.id]-i),l<p&&(p=l,m=n))}}else{this.startOnAxis||(i-=n/2),m=this.start+Math.round(i/n)}}m=a.fitToBounds(m,0,e.length-1);var j;e[m]&&(j=e[m].x[this.id]);o?j>this.height+1&&m--:j>this.width+1&&m--;0>j&&m++;return m=a.fitToBounds(m,0,e.length-1)},dateToCoordinate:function(b){return this.parseDates&&!this.equalSpacing?(b.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(b=this.chart.getClosestIndex(this.data,"time",b.getTime(),!1,0,this.data.length-1),this.getCoordinate(b-this.start)):NaN},categoryToCoordinate:function(d){if(this.chart){var c=this.chart.getCategoryIndexByValue(d);if(!isNaN(c)){return this.getCoordinate(c-this.start)}if(this.parseDates){return this.dateToCoordinate(new Date(d))}}else{return NaN}},coordinateToDate:function(b){return this.equalSpacing?(b=this.xToIndex(b),new Date(this.data[b].time)):new Date(this.startTime+b/this.stepWidth)},coordinateToValue:function(b){b=this.xToIndex(b);if(b=this.data[b]){return this.parseDates?b.time:b.category}},getCoordinate:function(b){b*=this.stepWidth;this.startOnAxis||(b+=this.stepWidth/2);return Math.round(b)},formatValue:function(d,c){c||(c=this.currentDateFormat);this.parseDates&&(d=a.formatDate(new Date(d),c,this.chart));return d},showBalloonAt:function(b){b=this.parseDates?this.dateToCoordinate(new Date(b)):this.categoryToCoordinate(b);return this.adjustBalloonCoordinate(b)},formatBalloonText:function(i,e,p){var o="",n="",m=this.chart,l=this.data[e];if(l){if(this.parseDates){o=a.formatDate(l.category,p,m),e=a.changeDate(new Date(l.category),this.minPeriod,1),n=a.formatDate(e,p,m),-1!=o.indexOf("fff")&&(o=a.formatMilliseconds(o,l.category),n=a.formatMilliseconds(n,e))}else{var j;this.data[e+1]&&(j=this.data[e+1]);o=a.fixNewLines(l.category);j&&(n=a.fixNewLines(j.category))}}i=i.replace(/\[\[category\]\]/g,String(o));return i=i.replace(/\[\[toCategory\]\]/g,String(n))},adjustBalloonCoordinate:function(i,f){var n=this.xToIndex(i),m=this.chart.chartCursor;if(this.stickBalloonToCategory){var l=this.data[n];l&&(i=l.x[this.id]);this.stickBalloonToStart&&(i-=this.cellWidth/2);var k=0;if(m){var j=m.limitToGraph;j&&(k=l.axes[j.valueAxis.id].graphs[j.id].y);this.rotate?("left"==this.position?(j&&(k-=m.width),0<k&&(k=0)):0>k&&(k=0),m.fixHLine(i,k)):("top"==this.position?(k-=m.height,0<k&&(k=0)):0>k&&(k=0),m.fixVLine(i,k))}}m&&!f&&(m.setIndex(n),this.parseDates&&m.setTimestamp(this.coordinateToDate(i).getTime()));return i}})})();