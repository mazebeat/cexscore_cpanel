(function(b){b.extend(b.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}});b.extend(b.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(d){var a=b.inputmask.escapeRegex.call(this,d);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+a+"[01])")},val2:function(d){var a=b.inputmask.escapeRegex.call(this,d);return new RegExp("((0[1-9]|[12][0-9])"+a+"(0[1-9]|1[012]))|(30"+a+"(0[13-9]|1[012]))|(31"+a+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(h,a,j){var i=parseInt(h.concat(a.toString().slice(h.length)));var g=parseInt(h.concat(j.toString().slice(h.length)));return(i!=NaN?a<=i&&i<=j:false)||(g!=NaN?a<=g&&g<=j:false)},determinebaseyear:function(n,l,j){var k=(new Date()).getFullYear();if(n>k){return n}if(l<k){var a=l.toString().slice(0,2);var i=l.toString().slice(2,4);while(l<a+j){a--}var m=a+i;return n>m?n:m}return k},onKeyUp:function(h,a,i){var e=b(this);if(h.ctrlKey&&h.keyCode==i.keyCode.RIGHT){var j=new Date();e.val(j.getDate().toString()+(j.getMonth()+1).toString()+j.getFullYear().toString())}},definitions:{"1":{validator:function(k,l,h,a,j){var i=j.regex.val1.test(k);if(!a&&!i){if(k.charAt(1)==j.separator||"-./".indexOf(k.charAt(1))!=-1){i=j.regex.val1.test("0"+k.charAt(0));if(i){l[h-1]="0";return{pos:h,c:k.charAt(0)}}}}return i},cardinality:2,prevalidator:[{validator:function(k,l,h,a,j){var i=j.regex.val1pre.test(k);if(!a&&!i){i=j.regex.val1.test("0"+k);if(i){l[h]="0";h++;return{pos:h}}}return i},cardinality:1}]},"2":{validator:function(m,n,i,a,l){var j=n.join("").substr(0,3);if(j.indexOf(l.placeholder[0])!=-1){j="01"+l.separator}var k=l.regex.val2(l.separator).test(j+m);if(!a&&!k){if(m.charAt(1)==l.separator||"-./".indexOf(m.charAt(1))!=-1){k=l.regex.val2(l.separator).test(j+"0"+m.charAt(0));if(k){n[i-1]="0";return{pos:i,c:m.charAt(0)}}}}return k},cardinality:2,prevalidator:[{validator:function(m,n,i,a,l){var j=n.join("").substr(0,3);if(j.indexOf(l.placeholder[0])!=-1){j="01"+l.separator}var k=l.regex.val2pre(l.separator).test(j+m);if(!a&&!k){k=l.regex.val2(l.separator).test(j+"0"+m);if(k){n[i]="0";i++;return{pos:i}}}return k},cardinality:1}]},y:{validator:function(m,n,i,a,k){if(k.isInYearRange(m,k.yearrange.minyear,k.yearrange.maxyear)){var j=n.join("").substr(0,6);if(j!=k.leapday){return true}else{var l=parseInt(m,10);if(l%4===0){if(l%100===0){if(l%400===0){return true}else{return false}}else{return true}}else{return false}}}else{return false}},cardinality:4,prevalidator:[{validator:function(l,m,i,n,k){var j=k.isInYearRange(l,k.yearrange.minyear,k.yearrange.maxyear);if(!n&&!j){var a=k.determinebaseyear(k.yearrange.minyear,k.yearrange.maxyear,l+"0").toString().slice(0,1);j=k.isInYearRange(a+l,k.yearrange.minyear,k.yearrange.maxyear);if(j){m[i++]=a[0];return{pos:i}}a=k.determinebaseyear(k.yearrange.minyear,k.yearrange.maxyear,l+"0").toString().slice(0,2);j=k.isInYearRange(a+l,k.yearrange.minyear,k.yearrange.maxyear);if(j){m[i++]=a[0];m[i++]=a[1];return{pos:i}}}return j},cardinality:1},{validator:function(q,p,m,l,r){var a=r.isInYearRange(q,r.yearrange.minyear,r.yearrange.maxyear);if(!l&&!a){var o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,q).toString().slice(0,2);a=r.isInYearRange(q[0]+o[1]+q[1],r.yearrange.minyear,r.yearrange.maxyear);if(a){p[m++]=o[1];return{pos:m}}o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,q).toString().slice(0,2);if(r.isInYearRange(o+q,r.yearrange.minyear,r.yearrange.maxyear)){var k=p.join("").substr(0,6);if(k!=r.leapday){a=true}else{var n=parseInt(q,10);if(n%4===0){if(n%100===0){if(n%400===0){a=true}else{a=false}}else{a=true}}else{a=false}}}else{a=false}if(a){p[m-1]=o[0];p[m++]=o[1];p[m++]=q[0];return{pos:m}}}return a},cardinality:2},{validator:function(i,j,g,a,h){return h.isInYearRange(i,h.yearrange.minyear,h.yearrange.maxyear)},cardinality:3}]}},insertMode:false,autoUnmask:false},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(d){var a=b.inputmask.escapeRegex.call(this,d);return new RegExp("((0[13-9]|1[012])"+a+"[0-3])|(02"+a+"[0-2])")},val2:function(d){var a=b.inputmask.escapeRegex.call(this,d);return new RegExp("((0[1-9]|1[012])"+a+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+a+"30)|((0[13578]|1[02])"+a+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyUp:function(h,a,i){var e=b(this);if(h.ctrlKey&&h.keyCode==i.keyCode.RIGHT){var j=new Date();e.val((j.getMonth()+1).toString()+j.getDate().toString()+j.getFullYear().toString())}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(h,a,i){var e=b(this);if(h.ctrlKey&&h.keyCode==i.keyCode.RIGHT){var j=new Date();e.val(j.getFullYear().toString()+(j.getMonth()+1).toString()+j.getDate().toString())}},definitions:{"2":{validator:function(p,o,m,l,r){var q=o.join("").substr(5,3);if(q.indexOf(r.placeholder[5])!=-1){q="01"+r.separator}var a=r.regex.val2(r.separator).test(q+p);if(!l&&!a){if(p.charAt(1)==r.separator||"-./".indexOf(p.charAt(1))!=-1){a=r.regex.val2(r.separator).test(q+"0"+p.charAt(0));if(a){o[m-1]="0";return{pos:m,c:p.charAt(0)}}}}if(a){var k=o.join("").substr(4,4)+p;if(k!=r.leapday){return true}else{var n=parseInt(o.join("").substr(0,4),10);if(n%4===0){if(n%100===0){if(n%400===0){return true}else{return false}}else{return true}}else{return false}}}return a},cardinality:2,prevalidator:[{validator:function(m,n,i,a,l){var j=n.join("").substr(5,3);if(j.indexOf(l.placeholder[5])!=-1){j="01"+l.separator}var k=l.regex.val2pre(l.separator).test(j+m);if(!a&&!k){k=l.regex.val2(l.separator).test(j+"0"+m);if(k){n[i]="0";i++;return{pos:i}}}return k},cardinality:1}]}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-9]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-3]"),ampm:new RegExp("^[a|p|A|P][m|M]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(l,n,i,a,k){var j=k.regex.hrs.test(l);if(!a&&!j){if(l.charAt(1)==k.timeseparator||"-.:".indexOf(l.charAt(1))!=-1){j=k.regex.hrs.test("0"+l.charAt(0));if(j){n[i-1]="0";n[i]=l.charAt(0);i++;return{pos:i}}}}if(j&&k.hourFormat!=="24"&&k.regex.hrs24.test(l)){var m=parseInt(l,10);if(m==24){n[i+5]="a";n[i+6]="m"}else{n[i+5]="p";n[i+6]="m"}m=m-12;if(m<10){n[i]=m.toString();n[i-1]="0"}else{n[i]=m.toString().charAt(1);n[i-1]=m.toString().charAt(0)}return{pos:i,c:n[i]}}return j},cardinality:2,prevalidator:[{validator:function(k,l,h,a,j){var i=j.regex.hrspre.test(k);if(!a&&!i){i=j.regex.hrs.test("0"+k);if(i){l[h]="0";h++;return{pos:h}}}return i},cardinality:1}]},t:{validator:function(i,j,g,a,h){return h.regex.ampm.test(i+"m")},casing:"lower",cardinality:1}},insertMode:false,autoUnmask:false},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",autoUnmask:false},"hh:mm":{mask:"h:s",autoUnmask:false},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}})})(jQuery);